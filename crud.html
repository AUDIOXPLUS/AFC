<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRUD Permissions Management</title>
    <!-- <link rel="stylesheet" href="styles.css"> Vecchio riferimento -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/table.css"> /* Stili tabella CRUD */
    <link rel="stylesheet" href="mobile.css">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="users.html">Back to users</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <h2>CRUD Permissions Management for <span id="user-name-display"></span></h2>
        <div id="role-grid">
            <table class="crud-table">
                <tr>
                    <th>Page / Action</th>
                    <th>Create</th>
                    <th>Read</th>
                    <th>Update</th>
                    <th>Delete</th>
                </tr>
                <tr>
                    <td>Projects</td>
                    <td><input type="checkbox" class="crud-checkbox" data-action="create" data-page="projects"></td>
                    <td>
                        <div class="read-permission">
                            <input type="checkbox" class="crud-checkbox" data-action="read" data-page="projects">
                            <select class="read-scope" disabled>
                                <!-- Project visibility options -->
                                <option value="all">All projects</option>
                                <option value="own">Own projects</option>
                                <option value="own-factory">Own factory projects</option>
                                <option value="all-factories">All factories projects</option>
                                <option value="own-client">Own client company projects</option>
                                <option value="all-clients">All client companies projects</option>
                                <option value="user-projects">Only selected user's projects</option>
                            </select>
                        </div>
                    </td>
                    <td><input type="checkbox" class="crud-checkbox" data-action="update" data-page="projects"></td>
                    <td><input type="checkbox" class="crud-checkbox" data-action="delete" data-page="projects"></td>
                </tr>
                <tr>
                    <td>Users</td>
                    <td><input type="checkbox" class="crud-checkbox" data-action="create" data-page="users"></td>
                    <td>
                        <div class="read-permission">
                            <input type="checkbox" class="crud-checkbox" data-action="read" data-page="users">
                            <select class="read-scope" disabled>
                                <option value="all">All users</option>
                                <option value="own-factory">Own factory users</option>
                                <option value="all-factories">All factories users</option>
                                <option value="own-client">Own client company users</option>
                                <option value="all-clients">All client companies users</option>
                                <option value="specific-users">Only these specific users</option>
                            </select>
                        </div>
                    </td>
                    <td><input type="checkbox" class="crud-checkbox" data-action="update" data-page="users"></td>
                    <td><input type="checkbox" class="crud-checkbox" data-action="delete" data-page="users"></td>
                </tr>
                <tr>
                    <td>Tasks</td>
                    <td><input type="checkbox" class="crud-checkbox" data-action="create" data-page="tasks"></td>
                    <td>
                        <div class="read-permission">
                            <input type="checkbox" class="crud-checkbox" data-action="read" data-page="tasks">
                            <select class="read-scope" disabled>
                                <option value="all">All tasks</option>
                                <option value="own">Own tasks</option>
                                <option value="own-factory">Own factory tasks (all users)</option>
                                <option value="all-factories">All factories tasks</option>
                                <option value="own-client">Own client company tasks (all users)</option>
                                <option value="all-clients">All client companies tasks</option>
                                <option value="user-tasks">Only selected user's tasks</option>
                            </select>
                        </div>
                    </td>
                    <td><input type="checkbox" class="crud-checkbox" data-action="update" data-page="tasks"></td>
                    <td><input type="checkbox" class="crud-checkbox" data-action="delete" data-page="tasks"></td>
                </tr>
            </table>
        </div>
        <button id="save-role-btn">Save Permissions</button>
    </main>
    <script src="auth.js"></script>
    <script src="crud.js"></script>
</body>
</html>
